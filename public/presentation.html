<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Presentation · Time-Bank Auction</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Orbitron:wght@500;600;700&display=swap');
    :root{
      color-scheme: dark;
      --bg-primary:#040b16;
      --bg-secondary:#051c2f;
      --bg-tertiary:rgba(0,196,255,0.16);
      --glass:rgba(9,25,42,0.65);
      --glass-border:rgba(0,197,255,0.22);
      --glass-bright:rgba(0,216,255,0.45);
      --text:#f8fafc;
      --muted:rgba(148,187,205,0.82);
      --accent:#38d5ff;
      --accent-warm:#f6a55d;
      --accent-danger:#ff6767;
      --chip-bg:rgba(28,93,133,0.35);
      --hud-height:96px;
      --deck-padding:32px;
      --deck-gutter:42px;
      font-family:"Inter",system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      min-height:100vh;
      background:radial-gradient(120% 140% at 80% 20%,rgba(4,152,203,0.25) 0%,transparent 45%),
        radial-gradient(120% 130% at 15% 85%,rgba(255,119,62,0.25) 0%,transparent 55%),
        linear-gradient(140deg,var(--bg-primary) 0%,var(--bg-secondary) 55%,#02060d 100%);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      position:relative;
    }
    body::before,body::after{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
    }
    body::before{
      background:radial-gradient(60% 80% at 50% 45%,rgba(15,130,184,0.32) 0%,transparent 65%);
      mix-blend-mode:screen;
      opacity:0.65;
    }
    body::after{
      background:linear-gradient(120deg,rgba(0,200,255,0.16) 0%,transparent 60%),
        repeating-linear-gradient(90deg,rgba(255,255,255,0.04) 0px,rgba(255,255,255,0.02) 2px,transparent 4px,transparent 12px);
      opacity:0.4;
    }
    .layout{
      width:clamp(960px,92vw,1480px);
      height:calc(100vh - 48px);
      padding:var(--deck-padding) var(--deck-gutter);
      display:grid;
      grid-template-rows:var(--hud-height) 1fr;
      gap:28px;
      background:linear-gradient(140deg,rgba(6,18,32,0.92),rgba(3,15,25,0.78));
      border:1px solid rgba(0,178,255,0.25);
      border-radius:28px;
      box-shadow:0 32px 120px rgba(0,0,0,0.55);
      backdrop-filter:blur(14px);
      position:relative;
      overflow:hidden;
    }
    header.hud-bar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:36px;
      position:relative;
    }
    .hud-cluster{
      display:flex;
      align-items:center;
      gap:18px;
    }
    .hud-cluster--column{
      flex-direction:column;
      align-items:flex-end;
    }
    .phase-stack{display:flex;flex-direction:column;gap:10px;}
    .phase-chip{
      display:inline-flex;
      align-items:center;
      gap:10px;
      background:linear-gradient(120deg,rgba(13,58,95,0.65),rgba(13,108,158,0.35));
      border-radius:999px;
      padding:10px 22px;
      font-size:1.05rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:0.16em;
      border:1px solid rgba(61,198,255,0.55);
      box-shadow:0 0 18px rgba(28,154,219,0.4);
    }
    .phase-chip::before{
      content:"";
      width:8px;
      height:8px;
      border-radius:50%;
      background:var(--accent);
      box-shadow:0 0 12px var(--accent);
      animation:pulse 2.6s ease-in-out infinite;
    }
    .round-info{
      font-size:1.05rem;
      color:var(--muted);
      letter-spacing:0.08em;
    }
    .hud-divider{
      width:2px;
      height:48px;
      background:linear-gradient(180deg,transparent 0%,rgba(56,205,255,0.75) 50%,transparent 100%);
      opacity:0.65;
    }
    .status-banner{
      min-height:50px;
      min-width:280px;
      padding:14px 22px;
      border-radius:18px;
      background:linear-gradient(120deg,rgba(9,30,52,0.95),rgba(7,46,79,0.72));
      border:1px solid rgba(61,198,255,0.45);
      font-weight:600;
      font-size:0.95rem;
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      position:relative;
      overflow:hidden;
      transition:opacity 0.3s ease,transform 0.4s ease;
    }
    .status-banner.hidden{opacity:0.55;color:var(--muted);border-color:rgba(61,198,255,0.25);}
    .status-banner::after{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(120deg,transparent,rgba(56,197,255,0.28),transparent);
      transform:translateX(-120%);
    }
    .status-banner.flash::after{
      animation:statusSweep 1.6s ease;
    }
    .next-ready{
      display:flex;
      flex-direction:column;
      gap:8px;
      align-items:flex-end;
      text-align:right;
    }
    .next-ready strong{font-size:1rem;letter-spacing:0.08em;}
    .chip{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:4px 12px;
      border-radius:999px;
      background:var(--chip-bg);
      color:var(--accent);
      font-weight:600;
      font-size:0.9rem;
      letter-spacing:0.08em;
      transition:box-shadow 0.3s ease,background 0.3s ease;
    }
    .chip.pulsing{
      background:rgba(56,213,255,0.18);
      box-shadow:0 0 12px rgba(56,213,255,0.45);
      animation:chipPulse 1.5s ease-in-out infinite;
    }
    main.command-deck{
      position:relative;
      display:grid;
      grid-template-columns:minmax(0,0.66fr) minmax(0,0.34fr);
      grid-template-rows:minmax(0,1fr) minmax(0,0.56fr);
      grid-template-areas:
        "timer telemetry"
        "timer history";
      gap:22px;
      height:calc(100% - 8px);
      overflow:hidden;
    }
    .timer-card{
      grid-area:timer;
      position:relative;
      background:radial-gradient(120% 120% at 60% 30%,rgba(56,213,255,0.28),rgba(3,23,40,0.92));
      border-radius:32px;
      padding:48px 48px 44px;
      display:flex;
      flex-direction:column;
      justify-content:flex-end;
      gap:20px;
      border:1px solid rgba(56,213,255,0.4);
      box-shadow:0 24px 120px rgba(4,32,56,0.7);
      overflow:hidden;
      transition:border-color 0.3s ease,box-shadow 0.3s ease;
    }
    .timer-card::before{
      content:"";
      position:absolute;
      inset:-18%;
      border-radius:50%;
      background:conic-gradient(from 90deg,rgba(56,213,255,0.6),transparent 55%,rgba(246,165,93,0.45));
      filter:blur(0.5px);
      opacity:0.45;
      transform:rotate(0deg);
      animation:ringSpin 24s linear infinite;
    }
    .timer-card::after{
      content:"";
      position:absolute;
      inset:24px;
      border-radius:28px;
      border:1px solid rgba(56,213,255,0.18);
      backdrop-filter:blur(6px);
      opacity:0.6;
      pointer-events:none;
    }
    .timer-content{position:relative;z-index:1;display:flex;flex-direction:column;gap:18px;}
    .timer-label{
      font-size:1.1rem;
      color:var(--muted);
      letter-spacing:0.26em;
      text-transform:uppercase;
    }
    .timer-value{
      font-family:"Orbitron", "Inter", system-ui;
      font-size:clamp(4rem,8vw,6rem);
      font-weight:700;
      letter-spacing:0.12em;
      text-shadow:0 0 32px rgba(56,213,255,0.65);
    }
    .timer-sub{
      font-size:1.1rem;
      color:var(--muted);
      min-height:1.2em;
      letter-spacing:0.08em;
    }
    .timer-card.phase-countdown{
      border-color:rgba(246,165,93,0.6);
      box-shadow:0 28px 120px rgba(246,165,93,0.4);
    }
    .timer-card.phase-countdown .timer-value{color:var(--accent-warm);text-shadow:0 0 28px rgba(246,165,93,0.55);}
    .timer-card.phase-active{
      border-color:rgba(255,103,103,0.65);
      box-shadow:0 28px 120px rgba(255,103,103,0.4);
      background:radial-gradient(110% 110% at 70% 30%,rgba(255,103,103,0.2),rgba(3,23,40,0.92));
    }
    .timer-card.phase-active .timer-value{color:var(--accent-danger);text-shadow:0 0 28px rgba(255,103,103,0.55);}
    .timer-card.phase-arming .timer-value{color:var(--accent);}
    .telemetry-stack{
      grid-area:telemetry;
      display:flex;
      flex-direction:column;
      gap:22px;
      min-height:0;
    }
    .history-panel{grid-area:history;}
    section.card{
      background:linear-gradient(160deg,rgba(8,26,44,0.92),rgba(5,18,32,0.82));
      border-radius:26px;
      padding:26px;
      border:1px solid rgba(56,213,255,0.25);
      display:flex;
      flex-direction:column;
      gap:16px;
      min-height:0;
      position:relative;
      overflow:hidden;
      box-shadow:0 18px 60px rgba(0,0,0,0.45);
    }
    section.card::after{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(120deg,rgba(56,213,255,0.08),transparent 55%);
      opacity:0;
      transition:opacity 0.6s ease;
      pointer-events:none;
    }
    section.card:hover::after{opacity:1;}
    .card-title{
      font-size:1.2rem;
      font-weight:700;
      letter-spacing:0.14em;
      text-transform:uppercase;
      color:var(--muted);
    }
    .scroll-shell{flex:1;overflow:hidden;display:flex;flex-direction:column;min-height:0;}
    .scoreboard-list{
      list-style:none;
      padding:0;
      margin:0;
      display:grid;
      gap:12px;
      overflow-y:auto;
      scrollbar-width:thin;
    }
    .scoreboard-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:14px 16px;
      border-radius:16px;
      background:rgba(8,28,46,0.85);
      border:1px solid rgba(56,213,255,0.22);
      box-shadow:0 12px 32px rgba(3,18,32,0.45);
      position:relative;
      overflow:hidden;
      gap:18px;
    }
    .scoreboard-row::after{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(120deg,transparent,rgba(56,213,255,0.18),transparent);
      transform:translateX(-110%);
    }
    .scoreboard-row.enter::after{
      animation:statusSweep 1.4s ease;
    }
    .scoreboard-row .rank{font-size:1.1rem;font-weight:700;color:var(--accent);letter-spacing:0.12em;}
    .scoreboard-row .name{font-size:1.05rem;font-weight:600;letter-spacing:0.05em;}
    .scoreboard-row .tokens{font-size:1.25rem;font-weight:700;letter-spacing:0.08em;}
    .history-list{
      list-style:none;
      padding:0;
      margin:0;
      display:flex;
      flex-direction:column;
      gap:14px;
      overflow-y:auto;
      scrollbar-width:thin;
    }
    .history-item{
      padding:16px 18px;
      border-radius:18px;
      background:rgba(9,26,44,0.9);
      border:1px solid rgba(56,213,255,0.22);
      display:flex;
      justify-content:space-between;
      gap:18px;
      align-items:center;
      position:relative;
      overflow:hidden;
    }
    .history-item.enter::after{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(100deg,transparent,rgba(246,165,93,0.2),transparent);
      animation:statusSweep 1.6s ease;
    }
    .history-item .details{display:flex;flex-direction:column;gap:4px;}
    .history-item .round{font-weight:700;color:var(--accent);letter-spacing:0.1em;text-transform:uppercase;}
    .history-item .winner{font-size:1.05rem;font-weight:600;}
    .history-item .meta{font-size:0.95rem;color:var(--muted);letter-spacing:0.05em;}
    .empty-note{color:var(--muted);font-style:italic;letter-spacing:0.08em;}
    .empty-note::before{content:"// ";opacity:0.5;}
    .vignette{
      position:absolute;
      inset:-20%;
      border-radius:40px;
      background:radial-gradient(80% 80% at 50% 35%,transparent 0%,rgba(0,0,0,0.55) 100%);
      pointer-events:none;
    }
    @keyframes ringSpin{
      from{transform:rotate(0deg);}to{transform:rotate(360deg);}
    }
    @keyframes statusSweep{
      0%{transform:translateX(-120%);}50%{transform:translateX(15%);}100%{transform:translateX(120%);}
    }
    @keyframes pulse{
      0%,100%{opacity:0.65;transform:scale(1);}50%{opacity:1;transform:scale(1.2);}
    }
    @keyframes chipPulse{
      0%,100%{box-shadow:0 0 12px rgba(56,213,255,0.4);}
      50%{box-shadow:0 0 18px rgba(56,213,255,0.65);}
    }
    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition:none !important;}
    }
    @media (max-width:1280px){
      .layout{width:94vw;padding:24px 28px;}
      main.command-deck{grid-template-columns:minmax(0,0.64fr) minmax(0,0.36fr);}
    }
    @media (max-width:1040px){
      :root{--hud-height:112px;}
      header.hud-bar{flex-direction:column;align-items:flex-start;gap:18px;}
      .hud-cluster--column{align-items:flex-start;text-align:left;}
      main.command-deck{grid-template-columns:1fr;grid-template-rows:minmax(0,0.55fr) minmax(0,0.45fr) minmax(0,0.45fr);grid-template-areas:"timer" "telemetry" "history";}
      .telemetry-stack{flex-direction:row;}
    }
    @media (max-width:820px){
      .layout{width:100vw;height:100vh;border-radius:0;border:none;padding:18px;}
      main.command-deck{grid-template-rows:minmax(0,0.52fr) minmax(0,0.24fr) minmax(0,0.24fr);}
      .timer-card{padding:32px 28px;}
      .timer-label{letter-spacing:0.18em;}
    }
    @media (max-width:640px){
      .layout{padding:16px;}
      .timer-value{font-size:clamp(3.1rem,11vw,4.4rem);}
      .telemetry-stack{flex-direction:column;}
      .hud-cluster{width:100%;justify-content:space-between;}
      .hud-divider{display:none;}
      .next-ready{align-items:flex-start;text-align:left;}
    }
  </style>
</head>
<body>
  <div class="layout">
    <header class="hud-bar">
      <div class="hud-cluster">
        <div class="phase-stack">
          <div id="phaseLabel" class="phase-chip" aria-live="polite">Idle</div>
          <div class="round-info" id="roundInfo">Round 0 / 0</div>
        </div>
        <div class="hud-divider" aria-hidden="true"></div>
        <div class="next-ready">
          <strong id="nextReadySummary">Next round queue inactive</strong>
          <div class="chip" id="nextReadyCountdown" style="display:none">00s</div>
        </div>
      </div>
      <div class="hud-cluster hud-cluster--column">
        <div id="statusBanner" class="status-banner hidden" aria-live="polite">Waiting for host…</div>
      </div>
    </header>
    <main class="command-deck">
      <section class="timer-card" aria-live="polite">
        <div class="timer-content">
          <div class="timer-label" id="timerLabel">Timer</div>
          <div class="timer-value" id="timerValue">00:00</div>
          <div class="timer-sub" id="timerSub">—</div>
        </div>
      </section>
      <div class="telemetry-stack">
        <section class="card" aria-live="polite">
          <div class="card-title">Leaderboard</div>
          <div class="scroll-shell">
            <p id="scoreboardEmpty" class="empty-note" style="display:none">Scoreboard hidden</p>
            <ol id="scoreboardList" class="scoreboard-list"></ol>
          </div>
        </section>
      </div>
      <section class="card history-panel" aria-live="polite">
        <div class="card-title">Recent Rounds</div>
        <div class="scroll-shell">
          <ul id="historyList" class="history-list"></ul>
          <p id="historyEmpty" class="empty-note">Awaiting first results…</p>
        </div>
      </section>
    </main>
    <div class="vignette" aria-hidden="true"></div>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/public/presentation.js"></script>
</body>
</html>
